<!DOCTYPE html>
<html lang="en-us">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Welcome Page</title>
    <link rel="stylesheet" type="text/css" href="Styles/index.css">
    
</head>

<body>

        <header id="masthead">
          <div class="container">
            <a href="index.html" id="logo">BLAST</a>
            <nav>
              <a href="index.html">Home</a>
              <a href="portfolio.html">News</a>
			  <a href="contact.html">Games</a>
			  <a href="contact.html">contact</a>
			  <a href="contact.html">Sign In</a>
            </nav>
          </div>
        </header>
      
        <div id="main-container" class="container">
          <section class="main-section">
			<h1>Welcome to Blast</h1>
			
			<img src="https://news.xbox.com/en-us/wp-content/uploads/hero_disneyguardian-940x520.jpg" alt="game" style="width: 500px; height: 300px;">
      
          
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aliquam vestibulum luctus felis, ac rhoncus nunc porttitor condimentum. Mauris sit amet dolor eu elit varius varius facilisis id arcu. Proin vel dui massa. Nunc rhoncus fringilla pharetra. Vestibulum bibendum consectetur euismod. Proin commodo purus vitae sollicitudin consectetur.</p>
      
            <p>Donec vehicula lacus at leo feugiat lacinia. In et ex ultrices, ultrices neque non, pretium odio. Nunc id eros iaculis, pulvinar quam eget, egestas mauris.</p>
      
            <p>Suspendisse dictum, arcu at convallis faucibus, quam sapien tincidunt nunc, sit amet egestas nibh tortor et mi. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.</p>
      
          </section>
      
        </div>
      
        <footer>
          <div class="container">
           
          </div>
        </footer>
      </body>
      
      </html>
      <!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Blast Desktop API</title>
    </head>
    <body>
        <h1>Your Fornite Stats</h1>
        <br>
        <table id="table" border="1">
            <tbody>
                
            </tbody>
        </table>
    </body>
    <script>
        let {PythonShell} = require('python-shell')
      
        PythonShell.run('Main.py',  null, function  (err, results)  
        {
            if  (err)  throw err;
            console.log('Main.py finished.');
            console.log('results', results);

        var mysql = require('mysql');

            getStats(function(rows)
            {
                var html = '';
                var totalKills = results[0].kills;
                var totalDeaths = 0;
                rows.forEach(function(row)
                {
                  //totalKills += row.kills;
                  totalDeaths += row.deaths;
                });

                
                    html += '<tr>';
                    html += '<th>';
                    html += 'Kills';
                    html += '</th>';
                    html += '<th>';
                    html += 'Deaths';
                    html += '</th>';
                    html += '</tr>';
                    html += '<tr>';
                    html += '<td>';
                    html += totalKills;
                    html += '</td>';
                    html += '<td>';
                    html += totalDeaths;
                    html += '</td>';
                    html += '</tr>';
                    
                //put html in table
                document.querySelector('#table > tbody').innerHTML = html;
            });
        });

        function getStats(callback){
            var mysql = require('mysql');

            // Add the credentials to access your database
            var connection = mysql.createConnection({
            host: "MacBook-Air.local",
            user: "guest",
            password: "9879968b",
            database: "fortniteINFO"
            });

            // connect to mysql
            connection.connect(function(err) {
                // in case of error
                if(err){
                    console.log(err.code);
                    console.log(err.fatal);
                }
            });

            // Perform a query
            $query = 'SELECT `kills`,`deaths` FROM `stats` LIMIT 10';

            connection.query($query, function(err, rows, fields) {
                if(err){
                    console.log("An error ocurred performing the query.");
                    console.log(err);
                    return;
                }

                callback(rows);

                console.log("Query succesfully executed");
            });

            // Close the connection
            connection.end(function(){
            });
        }
    </script>
</html>
